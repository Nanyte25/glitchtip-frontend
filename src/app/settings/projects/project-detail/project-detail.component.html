<section class="l-body" *ngIf="activeProject$ | async as project">
  <header class="page-header">
    <h1 class="mat-display-1">Settings for {{ project.name }}</h1>
  </header>
  <mat-card *ngIf="project.isMember === false"
    ><mat-card-content>
      <p class="mat-body-strong">Note</p>
      <p>
        Because you are an admin for {{ project.organization.name }}, you have
        access to all of its projects. However, if you want to view issues for
        {{ project.name }}, you must be a member of one of its teams.
      </p></mat-card-content
    ></mat-card
  >
  <mat-card>
    <form
      [formGroup]="form"
      (ngSubmit)="onSubmit(project.organization.slug, project.slug)"
    >
      <mat-card-content>
        <mat-card-title>Update Project</mat-card-title>
        <mat-divider></mat-divider>

        <mat-error *ngIf="error">{{ error }}</mat-error>
        <mat-form-field>
          <input
            matInput
            [value]="project.name"
            formControlName="name"
            placeholder="Name"
          />
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            [value]="project.platform"
            formControlName="platform"
            placeholder="Platform"
          />
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions>
        <button disabled mat-flat-button color="primary" type="submit">
          <mat-icon>update</mat-icon>
          Update Project
        </button>
        <button
          type="button"
          (click)="onDelete(project.organization.slug, project.slug)"
          mat-button
          color="primary"
        >
          <mat-icon>delete_outline</mat-icon>
          Delete Project
        </button></mat-card-actions
      >
    </form>
  </mat-card>
  <mat-card *ngFor="let projectKey of (projectKeys$ | async) || []">
    <mat-card-content>
      <mat-card-title>Keys</mat-card-title>
      <mat-divider></mat-divider>
      <dl>
        <app-entry-data
          key="DSN"
          [value]="projectKey.dsn.public"
        ></app-entry-data>
      </dl>
    </mat-card-content>
  </mat-card>
</section>
